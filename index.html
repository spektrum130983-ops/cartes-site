<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Ma Collection de Cartes</title>
<style>
body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f9; }
h1 { text-align: center; margin-bottom: 20px; }

#controls { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 20px; }
#controls select { padding: 5px; font-size: 1em; }

#cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }

.card {
  position: relative;
  width: 100%;
  height: 300px;
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}

.card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.2); }

.card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transition: opacity 0.3s ease;
}

.card:hover img { opacity: 0; }

.card .info {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: 10px;
  box-sizing: border-box;
  background: rgba(255,255,255,0.95);
  opacity: 0;
  overflow-y: auto;
  transition: opacity 0.3s ease;
}

.card:hover .info { opacity: 1; }

.card h3 { margin: 0 0 5px; font-size: 1.1em; }
.card p { margin: 2px 0; font-size: 0.9em; color: #333; }
</style>
</head>
<body>

<h1>Ma Collection de Cartes</h1>

<div id="controls">
  <select id="filterSerie"><option value="">Toutes les séries</option></select>
  <select id="filterNomSet"><option value="">Tous les sets</option></select>
  <select id="filterBooster"><option value="">Tous les boosters</option></select>
  <select id="filterAnnee"><option value="">Toutes les années</option></select>
  <select id="filterDate"><option value="">Toutes les dates</option></select>
  <select id="filterLangue"><option value="">Toutes les langues</option></select>
  <select id="filterType"><option value="">Tous les types</option></select>
  <select id="filterNombre"><option value="">Tous les nombres</option></select>
  <select id="filterCode"><option value="">Tous les codes</option></select>
</div>

<div id="cards">Chargement…</div>

<script>
// Exemple de données (à remplacer par ton JSON ou fichier)
const allCards = [
  { serie:"Alpha", nomSet:"Set1", booster:"B1", annee:"2022", date:"2022-01-01", langue:"FR", type:"Rare", nombre:"2", code:"A1", image:"https://via.placeholder.com/200x300" },
  { serie:"Beta", nomSet:"Set2", booster:"B2", annee:"2023", date:"2023-02-01", langue:"EN", type:"Commun", nombre:"5", code:"B2", image:"https://via.placeholder.com/200x300" },
  { serie:"Alpha", nomSet:"Set3", booster:"B1", annee:"2022", date:"2022-03-01", langue:"FR", type:"Rare", nombre:"1", code:"A3", image:"https://via.placeholder.com/200x300" }
  // Ajoute tes données ici
];

// Fonction pour générer les options uniques pour un select
function populateSelect(selectId, key) {
  const select = document.getElementById(selectId);
  const values = [...new Set(allCards.map(c => c[key]).filter(v => v))].sort();
  values.forEach(v => {
    const option = document.createElement("option");
    option.value = v;
    option.textContent = v;
    select.appendChild(option);
  });
}

// Remplir tous les filtres
populateSelect("filterSerie", "serie");
populateSelect("filterNomSet", "nomSet");
populateSelect("filterBooster", "booster");
populateSelect("filterAnnee", "annee");
populateSelect("filterDate", "date");
populateSelect("filterLangue", "langue");
populateSelect("filterType", "type");
populateSelect("filterNombre", "nombre");
populateSelect("filterCode", "code");

// Filtrage
const filters = {
  serie: document.getElementById("filterSerie"),
  nomSet: document.getElementById("filterNomSet"),
  booster: document.getElementById("filterBooster"),
  annee: document.getElementById("filterAnnee"),
  date: document.getElementById("filterDate"),
  langue: document.getElementById("filterLangue"),
  type: document.getElementById("filterType"),
  nombre: document.getElementById("filterNombre"),
  code: document.getElementById("filterCode")
};

// Écouteurs
Object.values(filters).forEach(f => f.addEventListener("change", renderCards));

function getFilteredCards() {
  return allCards.filter(c =>
    (!filters.serie.value || c.serie === filters.serie.value) &&
    (!filters.nomSet.value || c.nomSet === filters.nomSet.value) &&
    (!filters.booster.value || c.booster === filters.booster.value) &&
    (!filters.annee.value || c.annee === filters.annee.value) &&
    (!filters.date.value || c.date === filters.date.value) &&
    (!filters.langue.value || c.langue === filters.langue.value) &&
    (!filters.type.value || c.type === filters.type.value) &&
    (!filters.nombre.value || c.nombre === filters.nombre.value) &&
    (!filters.code.value || c.code === filters.code.value)
  );
}

function renderCards() {
  const container = document.getElementById("cards");
  const filtered = getFilteredCards();
  if(filtered.length === 0) {
    container.innerHTML = "<p>Aucune carte trouvée.</p>";
    return;
  }

  container.innerHTML = filtered.map(c => `
    <div class="card">
      <img src="${c.image}" alt="${c.nomSet}">
      <div class="info">
        <h3>${c.nomSet}</h3>
        <p><b>Série :</b> ${c.serie}</p>
        <p><b>Booster :</b> ${c.booster}</p>
        <p><b>Année :</b> ${c.annee} | <b>Date :</b> ${c.date}</p>
        <p><b>Langue :</b> ${c.langue} | <b>Type :</b> ${c.type}</p>
        <p><b>Nombre :</b> ${c.nombre} | <b>Code :</b> ${c.code}</p>
      </div>
    </div>
  `).join("");
}

// Rendu initial : toutes les cartes
renderCards();
</script>

</body>
</html>
